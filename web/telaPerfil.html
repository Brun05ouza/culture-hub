<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil do Usuário</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/css/global.css">
    <link rel="stylesheet" href="css/telaPrincipal.css">
    <link rel="stylesheet" href="css/telaPerfil.css">
    <script type="module" src="js/script.js"></script>
    <script src="/js/script.js" defer></script>

</head>

<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container flex justify-between items-center py-4 relative">
            <div class="flex items-center space-x-8">
                <a href="telaPrincipal.html" class="text-xl font-bold logo">Culture Hub</a>
                <nav class="hidden md:flex space-x-6">
                    <a href="telaPrincipal.html" class="nav-link font-medium">Início</a>
                    <a href="meusEventos.html" class="nav-link font-medium">Meus Eventos</a>
                    <a href="telaCalendario.html" class="nav-link font-medium">Eventos</a>
                    <a href="sobreEmpresa.html" class="nav-link font-medium">Sobre Nós</a>
                </nav>
            </div>
            
            <div class="flex items-center space-x-4">
                <div class="hidden md:flex items-center space-x-4 header-auth">
                    <a href="login.html" class="nav-link login-link">Login</a>
                    <a href="cadastro.html" class="btn btn-primary px-6 py-2 rounded-full">Cadastre-se</a>
                </div>
                
                <button class="md:hidden hamburger" onclick="toggleMobileMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
            
            <nav class="md:hidden mobile-menu" id="mobileMenu">
                <a href="telaPrincipal.html" class="nav-link">Início</a>
                <a href="meusEventos.html" class="nav-link">Meus Eventos</a>
                <a href="telaCalendario.html" class="nav-link">Eventos</a>
                <a href="sobreEmpresa.html" class="nav-link">Sobre Nós</a>
                <div class="p-4 border-t">
                    <a href="login.html" class="block mb-2 text-center py-2 border rounded-lg">Login</a>
                    <a href="cadastro.html" class="block btn btn-primary text-center py-2 rounded-lg">Cadastre-se</a>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
  <main>
  <section class="relative bg-gradient-to-r from-indigo-50 via-blue-50 to-sky-50">
    <div class="container pt-8 pb-24">
      <div class="relative h-40 sm:h-52 rounded-xl overflow-hidden shadow-inner mb-12">
        <img src="https://images.unsplash.com/photo-1529156069898-49953e39b3ac?q=80&w=1600&auto=format&fit=crop"
             alt="Capa do perfil" class="w-full h-full object-cover">
      </div>

      <div class="bg-white rounded-2xl shadow-md px-6 sm:px-8 py-6 relative overflow-visible">
        <div class="flex flex-col sm:flex-row sm:items-center gap-4">
          <img src="https://placehold.co/160x160/E5E7EB/4B5563?text=User"
               alt="Foto do perfil" class="w-28 h-28 rounded-full object-cover profile-pic -mt-16 sm:-mt-16" id="pfAvatar">
          <div class="flex-1">
            <h1 class="text-2xl font-bold text-gray-900 leading-tight" id="pfName">Usuário</h1>
            <p class="text-gray-500 text-sm" id="pfRole">Membro • Ingressou em 2024</p>
            <div class="flex flex-wrap gap-2 mt-2 text-sm text-gray-600">
              <span id="pfLocation" class="inline-flex items-center gap-1">
                <svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7m0 9.5A2.5 2.5 0 1 1 12 6a2.5 2.5 0 0 1 0 5.5Z"/></svg>
                Rio de Janeiro
              </span>
              <a id="pfWebsite" href="#" target="_blank" rel="noopener" class="link-muted hover:underline">site.exemplo</a>
            </div>
          </div>

          <div class="flex gap-2">
            <a href="editarPerfil.html" class="btn btn-secondary">Editar perfil</a>
            <a href="criarEventos.html" class="btn btn-primary">Criar evento</a>
          </div>
        </div>

        <!-- Métricas -->
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-3 mt-6">
          <button class="bg-gray-50 rounded-xl p-4 text-left hover:brightness-95 transition">
            <p class="text-xs font-semibold text-gray-500">Criados</p>
            <p class="text-2xl font-bold text-gray-900" id="metricCreated">0</p>
          </button>
          <button class="bg-gray-50 rounded-xl p-4 text-left hover:brightness-95 transition">
            <p class="text-xs font-semibold text-gray-500">Ingressados</p>
            <p class="text-2xl font-bold text-gray-900" id="metricJoined">0</p>
          </button>
          <div class="bg-gray-50 rounded-xl p-4">
            <p class="text-xs font-semibold text-gray-500">Seguidores</p>
            <p class="text-2xl font-bold text-gray-900" id="metricFollowers">—</p>
          </div>
          <div class="bg-gray-50 rounded-xl p-4">
            <p class="text-xs font-semibold text-gray-500">Avaliação</p>
            <p class="text-2xl font-bold text-gray-900" id="metricRating">—</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Conteúdo principal -->
  <section class="container py-6 grid grid-cols-1 lg:grid-cols-3 gap-8">
    <aside class="lg:col-span-1">
      <div class="bg-white rounded-xl shadow-md p-6 mb-6">
        <h2 class="text-lg font-bold mb-2">Sobre</h2>
        <p class="text-sm text-gray-600" id="pfBio">
          Apaixonada por eventos culturais, foco em música e arte independente.
        </p>
      </div>

      <div class="bg-white rounded-xl shadow-md p-6 mb-6">
        <h3 class="text-sm font-semibold text-gray-600 mb-2">Interesses</h3>
        <div class="flex flex-wrap gap-2">
          <span class="chip">Música</span>
          <span class="chip">Teatro</span>
          <span class="chip">Cinema</span>
          <span class="chip">Arte</span>
        </div>
      </div>

      <div class="bg-white rounded-xl shadow-md p-6">
        <h3 class="text-sm font-semibold text-gray-600 mb-2">Conquistas</h3>
        <div class="flex flex-wrap gap-2">
          <span class="badge badge-success">+100 ingressos</span>
          <span class="badge badge-warning">Top Organizer</span>
        </div>
      </div>
    </aside>

    <!-- Coluna direita: Lists + Tabs -->
    <section class="lg:col-span-2">
      <div class="tabs mb-4" id="pfTabs">
        <button class="active" data-tab="created">Criados <span class="count">0</span></button>
        <button data-tab="joined">Ingressados <span class="count">0</span></button>
        <button data-tab="favorites">Favoritos <span class="count">0</span></button>
      </div>

      <!-- listas -->
      <div id="list-created" class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="event-card"><div class="w-full h-24 rounded-lg skeleton mb-3"></div><div class="skeleton h-4 w-2/3 mb-2"></div><div class="skeleton h-3 w-1/2"></div></div>
        <div class="event-card"><div class="w-full h-24 rounded-lg skeleton mb-3"></div><div class="skeleton h-4 w-2/3 mb-2"></div><div class="skeleton h-3 w-1/2"></div></div>
      </div>

      <div id="list-joined" class="grid grid-cols-1 md:grid-cols-2 gap-4 hidden"></div>
      <div id="list-favorites" class="grid grid-cols-1 md:grid-cols-2 gap-4 hidden"></div>
    </section>
  </section>
</main>

  <!-- Footer -->
  <footer class="bg-white border-t mt-12">
    <div class="container py-12 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
      <div>
        <div class="flex items-center gap-2 mb-3">
          <i data-lucide="sparkles" class="w-5 h-5"></i>
          <span class="text-lg font-bold text-gray-900">Culture Hub</span>
        </div>
        <p class="text-gray-600">Descubra e compartilhe eventos culturais na sua cidade. Música, teatro, arte e muito
          mais, num só lugar.</p>
        <div class="flex gap-3 mt-4">
          <a class="social is-ig" href="https://instagram.com/seuPerfil" target="_blank" rel="noopener"
            aria-label="Instagram">
            <img src="img/social/instagram.png" alt="" width="20" height="20" loading="lazy">
          </a>
          <a class="social is-fb" href="https://facebook.com/seuPerfil" target="_blank" rel="noopener"
            aria-label="Facebook">
            <img src="img/social/facebook.png" alt="" width="20" height="20" loading="lazy">
          </a>
          <a class="social is-x" href="https://twitter.com/seuPerfil" target="_blank" rel="noopener"
            aria-label="X (Twitter)">
            <img src="img/social/twitter.png" alt="" width="20" height="20" loading="lazy">
          </a>
          <a class="social is-yt" href="https://youtube.com/seuCanal" target="_blank" rel="noopener"
            aria-label="YouTube">
            <img src="img/social/youtube.png" alt="" width="20" height="20" loading="lazy">
          </a>
        </div>
      </div>

      <div>
        <h4 class="ft-title">Categorias</h4>
        <ul class="ft-list">
          <li><a href="#">Música</a></li>
          <li><a href="#">Teatro</a></li>
          <li><a href="#">Cinema</a></li>
          <li><a href="#">Arte</a></li>
          <li><a href="#">Comédia</a></li>
          <li><a href="#">Literatura</a></li>
          <li><a href="#">Dança</a></li>
          <li><a href="#">Gastronomia</a></li>
        </ul>
      </div>

      <div>
        <h4 class="ft-title">Suporte</h4>
        <ul class="ft-list">
          <li><a href="sobreEmpresa.html">Sobre nós</a></li>
          <li><a href="#">Central de ajuda</a></li>
          <li><a href="#">Fale conosco</a></li>
          <li><a href="#">Política de privacidade</a></li>
          <li><a href="#">Termos de uso</a></li>
        </ul>
      </div>

      <div>
        <h4 class="ft-title">Receba novidades</h4>
        <p class="text-gray-600 mb-3">Eventos selecionados toda semana, direto no seu e-mail.</p>
        <form onsubmit="event.preventDefault(); this.reset(); alert('Inscrito!')" class="flex gap-2">
          <input type="email" required placeholder="Seu e-mail"
            class="flex-1 rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
          <button class="px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:brightness-95">Assinar</button>
        </form>
        <div class="mt-4 flex gap-2">
          <img src="img/badges/appstore.png" alt="App Store" class="h-10">
          <img src="img/badges/playstore.png" alt="Google Play" class="h-10">
        </div>
      </div>
    </div>

    <div class="border-t">
      <div
        class="container py-6 text-sm text-gray-500 flex flex-col sm:flex-row gap-2 sm:gap-6 items-center justify-between">
        <p>&copy; 2025 Culture Hub. Todos os direitos reservados.</p>
        <div class="flex items-center gap-3">
          <i data-lucide="map-pin" class="w-4 h-4"></i>
          <span>Brasil</span>
          <span class="mx-2 text-gray-300">•</span>
          <i data-lucide="globe" class="w-4 h-4"></i>
          <a href="#" class="hover:text-gray-700">Português (BR)</a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Carregar dados do usuário logado
    document.addEventListener('DOMContentLoaded', function() {
      const user = localStorage.getItem('user');
      const isGuest = localStorage.getItem('isGuest');
      
      if (!user || isGuest === 'true') {
        // Redirecionar para login se não estiver logado
        window.location.href = '/login.html';
        return;
      }
      
      const userData = JSON.parse(user);
      
      // Atualizar informações do perfil
      document.getElementById('pfName').textContent = userData.name;
      document.getElementById('pfAvatar').src = userData.picture;
      document.getElementById('pfRole').textContent = `Membro • ${userData.email}`;
      document.getElementById('pfBio').textContent = `Olá! Sou ${userData.name} e adoro participar de eventos culturais.`;
      
      // Simular algumas métricas
      document.getElementById('metricCreated').textContent = Math.floor(Math.random() * 5);
      document.getElementById('metricJoined').textContent = Math.floor(Math.random() * 10) + 5;
      document.getElementById('metricFollowers').textContent = Math.floor(Math.random() * 50) + 10;
      document.getElementById('metricRating').textContent = (4 + Math.random()).toFixed(1) + '★';
      
      // Atualizar contadores das abas
      const createdCount = document.getElementById('metricCreated').textContent;
      const joinedCount = document.getElementById('metricJoined').textContent;
      document.querySelector('[data-tab="created"] .count').textContent = createdCount;
      document.querySelector('[data-tab="joined"] .count').textContent = joinedCount;
      document.querySelector('[data-tab="favorites"] .count').textContent = Math.floor(Math.random() * 8);
    });
    
    // Sistema de abas
    document.querySelectorAll('[data-tab]').forEach(tab => {
      tab.addEventListener('click', function() {
        const tabName = this.dataset.tab;
        
        // Atualizar abas ativas
        document.querySelectorAll('[data-tab]').forEach(t => t.classList.remove('active'));
        this.classList.add('active');
        
        // Mostrar conteúdo da aba
        document.querySelectorAll('[id^="list-"]').forEach(list => list.classList.add('hidden'));
        document.getElementById('list-' + tabName).classList.remove('hidden');
      });
    });
    
    // Inicializar ícones Lucide
    if (window.lucide) lucide.createIcons();
  </script>
</body>

</html>